"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7859],{7859:(I,p,r)=>{r.r(p),r.d(p,{AuthPageModule:()=>U});var m=r(9808),i=r(3075),n=r(9928),l=r(8555),h=r(655),c=r(4097),t=r(6435),d=r(1062),v=r(8065),A=r(6939),Z=r(1424),S=r(442);const f=function(e,s){return{required:e,maxlength:s}},L=function(){return["/auth/criar-conta"]},x=function(){return["/usuario/resetar"]},T=[{path:"",component:(()=>{class e{constructor(o,a,u,g,y,G,O){this.formBuilder=o,this.translateService=a,this.usuarioService=u,this.appStorageService=g,this.router=y,this.appErroService=G,this.route=O,this.isLoading=!1,this.isLogged()}ngOnInit(){this.formGroup=this.formBuilder.group({usuario:[null,i.kI.compose([i.kI.required])],senha:[null,i.kI.compose([i.kI.required])]})}alterarIdioma(o){const a=o.detail.value;this.appStorageService.setLang(a),this.translateService.use(a),"pt"===a?localStorage.removeItem("en"):localStorage.removeItem("pt"),this.reload()}acessar(){return(0,h.mG)(this,void 0,void 0,function*(){this.isLoading=!0;try{if(this.formGroup.valid){const o=this.formGroup.getRawValue(),a=yield this.usuarioService.login(o.usuario,o.senha).toPromise();this.appStorageService.set(c.u.KEY_STORAGE.token,a);const u=yield this.usuarioService.buscarUsuarioLogado().toPromise();this.appStorageService.set(c.u.KEY_STORAGE.logado,u),this.router.navigate("PROFESSOR"===u.perfil?["/professor"]:["/aluno"])}else this.formGroup.markAllAsTouched()}catch(o){this.appErroService.exibirErros(o.error.message)}this.isLoading=!1})}isLogged(){return(0,h.mG)(this,void 0,void 0,function*(){const o=this.appStorageService.get(c.u.KEY_STORAGE.logado);o&&"PROFESSOR"===o.perfil?this.router.navigate(["/professor"],{relativeTo:this.route}):o&&this.router.navigate(["/aluno"],{relativeTo:this.route}),o||(this.translateService.use("pt"),this.appStorageService.getLang("en")&&this.translateService.use("en"))})}reload(){window.location.reload()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(i.qu),t.Y36(d.sK),t.Y36(v.i),t.Y36(c.u),t.Y36(l.F0),t.Y36(A.R),t.Y36(l.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-auth"]],decls:57,vars:51,consts:[[1,"container-fluid"],[3,"formGroup"],[1,"row"],[1,"col-md-4","offset-md-4"],["interface","popover",3,"ionChange"],["selected","","value","pt"],["value","en"],[1,"col-md-12","text-center","mt-4","mb-4","title_box"],["text-center",""],[2,"font-size","55px"],["src","assets/icon/favicon.png",1,"pb-2","pt-1",2,"height","60px","width","60px","margin","auto"],["padding","",1,"col-md-6","offset-md-3","col-lg-4","offset-md-4"],[1,"col-md-12"],[1,"p-float-label"],["type","text","pInputText","","formControlName","usuario","autocomplete","off",1,"w-100"],[1,"required"],[3,"control","errorMessages"],[1,"col-md-12","mt-3"],["type","text","pInputText","","formControlName","senha","autocomplete","off",1,"w-100"],[1,"text-center"],["size","medium","type","submit",1,"mt-4",3,"disabled","click"],[2,"text-align","center"],["color","dark","fill","clear","size","small",3,"routerLink"]],template:function(o,a){1&o&&(t.TgZ(0,"ion-content")(1,"ion-content",0)(2,"form",1)(3,"div",2)(4,"div",3)(5,"ion-list")(6,"ion-item")(7,"ion-label"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"ion-select",4),t.NdJ("ionChange",function(g){return a.alterarIdioma(g)}),t.TgZ(11,"ion-select-option",5),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"ion-select-option",6),t._uU(15),t.ALo(16,"translate"),t.qZA()()()()(),t.TgZ(17,"div",7)(18,"div",8)(19,"h1",9),t._uU(20),t.ALo(21,"translate"),t.qZA()(),t.TgZ(22,"div",8),t._UZ(23,"ion-img",10),t.qZA()(),t._UZ(24,"br"),t.TgZ(25,"div",11)(26,"div",12)(27,"span",13),t._UZ(28,"input",14),t.TgZ(29,"label",15),t._uU(30),t.ALo(31,"translate"),t.qZA()(),t._UZ(32,"app-validador",16),t.ALo(33,"translate"),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"div",17)(36,"span",13),t._UZ(37,"input",18),t.TgZ(38,"label",15),t._uU(39),t.ALo(40,"translate"),t.qZA()(),t._UZ(41,"app-validador",16),t.ALo(42,"translate"),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"div",19)(45,"ion-button",20),t.NdJ("click",function(){return a.acessar()}),t._uU(46),t.ALo(47,"translate"),t.qZA(),t._UZ(48,"br")(49,"br"),t.TgZ(50,"div",21)(51,"ion-button",22),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"ion-button",22),t._uU(55),t.ALo(56,"translate"),t.qZA()()()()()()()()),2&o&&(t.xp6(2),t.Q6J("formGroup",a.formGroup),t.xp6(6),t.Oqu(t.lcZ(9,17,"furbot.idioma")),t.xp6(4),t.Oqu(t.lcZ(13,19,"furbot.idioma.pt")),t.xp6(3),t.Oqu(t.lcZ(16,21,"furbot.idioma.en")),t.xp6(5),t.Oqu(t.lcZ(21,23,"furbot.titulo")),t.xp6(10),t.Oqu(t.lcZ(31,25,"furbot.login.nome")),t.xp6(2),t.Q6J("control",a.formGroup.get("usuario"))("errorMessages",t.WLB(43,f,t.lcZ(33,27,"furbot.required"),t.lcZ(34,29,"furbot.maxLengthUsuario"))),t.xp6(7),t.Oqu(t.lcZ(40,31,"furbot.login.senha")),t.xp6(2),t.Q6J("control",a.formGroup.get("senha"))("errorMessages",t.WLB(46,f,t.lcZ(42,33,"furbot.required"),t.lcZ(43,35,"furbot.maxLengthSenha"))),t.xp6(4),t.Q6J("disabled",a.isLoading),t.xp6(1),t.hij(" ",t.lcZ(47,37,a.isLoading?"furbot.aguarde":"furbot.login.entrar"),""),t.xp6(5),t.Q6J("routerLink",t.DdM(49,L)),t.xp6(1),t.hij(" ",t.lcZ(53,39,"furbot.usuario.cadastrar"),""),t.xp6(2),t.Q6J("routerLink",t.DdM(50,x)),t.xp6(1),t.hij(" ",t.lcZ(56,41,"furbot.usuario.resetar.senha"),""))},directives:[n.W2,i._Y,i.JL,i.sg,n.q_,n.Ie,n.Q$,n.t9,n.QI,n.n0,n.Xz,i.Fj,Z.o,i.JJ,i.u,S.W,n.YG,n.YI,l.rH],pipes:[d.X$],styles:[".title_box[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}"]}),e})()},{path:"criar-conta",loadChildren:()=>Promise.all([r.e(8592),r.e(8917)]).then(r.bind(r,8917)).then(e=>e.CriarContaPageModule)}];let P=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.Bz.forChild(T)],l.Bz]}),e})();var b=r(4466);let U=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[m.ez,i.u5,n.Pc,P,i.UX,d.aw,b.m]]}),e})()}}]);
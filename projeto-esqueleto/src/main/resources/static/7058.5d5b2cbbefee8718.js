"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7058],{7058:(O,l,a)=>{a.r(l),a.d(l,{MeuUsuarioPageModule:()=>E});var d=a(9808),r=a(3075),n=a(9928),u=a(8555),g=a(655),o=a(6435),p=a(8065),v=a(6939),c=a(1062),h=a(1424),Z=a(442),b=a(159),M=a(1555);function U(t,s){1&t&&(o.TgZ(0,"ion-toolbar",23),o._UZ(1,"ion-menu-button",24),o.qZA())}const A=function(){return{required:"Este campo \xe9 obrigat\xf3rio.",maxlength:"O nome n\xe3o pode conter mais de 150 caracteres."}},x=function(){return{required:"Este campo \xe9 obrigat\xf3rio.",maxlength:"O usu\xe1rio n\xe3o pode conter mais de 50 caracteres."}},m=function(){return{minWidth:"100%"}},I=function(){return{required:"Este campo \xe9 obrigat\xf3rio."}},T=function(){return{required:"Este campo \xe9 obrigat\xf3rio.",maxlength:"A senha n\xe3o pode conter mais de 18 caracteres."}},y=[{path:"",component:(()=>{class t{constructor(e,i,f,P,q,N){this.formBuilder=e,this.usuarioService=i,this.appErroService=f,this.activatedRoute=P,this.translateService=q,this.platform=N,this.isMobile=!1,this.disabledValue=!1,this.generos=[{name:this.translateService.instant("furbot.masculino"),valor:"MASCULINO"},{name:this.translateService.instant("furbot.feminino"),valor:"FEMININO"},{name:this.translateService.instant("furbot.outros"),valor:"OUTRO"}]}ngOnInit(){this.platform.is("mobile")&&(this.isMobile=!0),this.formGroup=this.formBuilder.group({id:[],usuario:[null,r.kI.compose([r.kI.required,r.kI.maxLength(50)])],nome:[null,r.kI.compose([r.kI.required,r.kI.maxLength(150)])],senha:[null,r.kI.compose([r.kI.maxLength(18)])],email:[null,r.kI.compose([r.kI.maxLength(250)])],perfil:[null,r.kI.compose([r.kI.required])],genero:[null,r.kI.compose([r.kI.required])],dataNascimento:[null,r.kI.compose([r.kI.required])]})}ionViewWillEnter(){if(this.activatedRoute.snapshot.data.entity){const e=this.activatedRoute.snapshot.data.entity;e.senha=null,e.dataNascimento=new Date(e.dataNascimento),e.generos=this.generos.find(i=>i.valor===e.generos),this.formGroup.patchValue(this.activatedRoute.snapshot.data.entity),this.formGroup.get("usuario").disable(),this.formGroup.get("nome").disable(),this.formGroup.get("email").disable()}}update(){return(0,g.mG)(this,void 0,void 0,function*(){try{if(this.formGroup.valid){const e=this.formGroup.getRawValue();"new"===e.id&&delete e.id,e.usuarioId=e.usuario.id,this.formGroup.disable(),e.id&&(yield this.usuarioService.update(e.id,e).toPromise()),this.appErroService.exibirMensagem("Salvo com sucesso")}else this.formGroup.markAllAsTouched()}catch(e){yield this.appErroService.exibirErros(null==e?void 0:e.error.message)}this.formGroup.enable()})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(r.qu),o.Y36(p.i),o.Y36(v.R),o.Y36(u.gz),o.Y36(c.sK),o.Y36(n.t4))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-meu-usuario"]],decls:60,vars:49,consts:[["id","button-toolbar",4,"ngIf"],[1,"container-fluid"],["mode","md",1,"no-border"],[1,"p-0","pt-3"],["lines","none"],[2,"font-size","20px"],[2,"font-size","12px"],[3,"formGroup"],[1,"row","mt-4"],[1,"col-md-6","field"],[1,"p-float-label"],["type","text","pInputText","","formControlName","nome","autocomplete","off",1,"w-100"],[3,"control","errorMessages"],["type","text","pInputText","","formControlName","usuario","autocomplete","off",1,"w-100"],[1,"col-md-6","field","mt-3"],["appendTo","body","formControlName","genero","optionLabel","name","optionValue","valor",1,"w-100",3,"options"],["for","float-input"],["type","text","pInputText","","formControlName","email","autocomplete","off",1,"w-100"],["formControlName","dataNascimento","appendTo","body",1,"w-100"],[1,"col-md-6","mt-3","field"],["id","float-input","type","text","pInputText","","formControlName","senha","autocomplete","off",1,"w-100"],[1,"text-left","mt-3"],[3,"disabled","click"],["id","button-toolbar"],["slot","start",1,"ml-2"]],template:function(e,i){1&e&&(o.TgZ(0,"ion-content"),o.YNc(1,U,2,0,"ion-toolbar",0),o.TgZ(2,"div",1)(3,"ion-card",2)(4,"ion-card-header",3)(5,"ion-item",4)(6,"ion-label")(7,"ion-card-title",5),o._uU(8),o.ALo(9,"translate"),o.qZA(),o.TgZ(10,"ion-card-subtitle",6),o._uU(11),o.ALo(12,"translate"),o.qZA()()()(),o.TgZ(13,"ion-card-content")(14,"form",7)(15,"div",8)(16,"div",9)(17,"span",10),o._UZ(18,"input",11),o.TgZ(19,"label"),o._uU(20),o.ALo(21,"translate"),o.qZA()(),o._UZ(22,"app-validador",12),o.qZA(),o.TgZ(23,"div",9)(24,"span",10),o._UZ(25,"input",13),o.TgZ(26,"label"),o._uU(27),o.ALo(28,"translate"),o.qZA()(),o._UZ(29,"app-validador",12),o.qZA(),o.TgZ(30,"div",14)(31,"span",10),o._UZ(32,"p-dropdown",15),o.TgZ(33,"label",16),o._uU(34),o.ALo(35,"translate"),o.qZA()()(),o.TgZ(36,"div",14)(37,"span",10),o._UZ(38,"input",17),o.TgZ(39,"label"),o._uU(40),o.ALo(41,"translate"),o.qZA()(),o._UZ(42,"app-validador",12),o.qZA(),o.TgZ(43,"div",14)(44,"span",10),o._UZ(45,"p-calendar",18),o.TgZ(46,"label",16),o._uU(47),o.ALo(48,"translate"),o.qZA()()(),o.TgZ(49,"div",19)(50,"span",10),o._UZ(51,"input",20),o.TgZ(52,"label",16),o._uU(53),o.ALo(54,"translate"),o.qZA()(),o._UZ(55,"app-validador",12),o.qZA()(),o.TgZ(56,"div",21)(57,"ion-button",22),o.NdJ("click",function(){return i.update()}),o._uU(58),o.ALo(59,"translate"),o.qZA()()()()()()()),2&e&&(o.xp6(1),o.Q6J("ngIf",i.isMobile),o.xp6(7),o.Oqu(o.lcZ(9,25,"furbot.alteracao.de.dados")),o.xp6(3),o.hij("",o.lcZ(12,27,"furbot.informe.os.dados")," "),o.xp6(3),o.Q6J("formGroup",i.formGroup),o.xp6(6),o.Oqu(o.lcZ(21,29,"furbot.nome")),o.xp6(2),o.Q6J("control",i.formGroup.get("nome"))("errorMessages",o.DdM(43,A)),o.xp6(5),o.Oqu(o.lcZ(28,31,"furbot.usuarioPerfil")),o.xp6(2),o.Q6J("control",i.formGroup.get("usuario"))("errorMessages",o.DdM(44,x)),o.xp6(3),o.Akn(o.DdM(45,m)),o.Q6J("options",i.generos),o.xp6(2),o.Oqu(o.lcZ(35,33,"furbot.genero")),o.xp6(6),o.Oqu(o.lcZ(41,35,"furbot.email")),o.xp6(2),o.Q6J("control",i.formGroup.get("email"))("errorMessages",o.DdM(46,I)),o.xp6(3),o.Akn(o.DdM(47,m)),o.xp6(2),o.Oqu(o.lcZ(48,37,"furbot.dataNascimento")),o.xp6(6),o.Oqu(o.lcZ(54,39,"furbot.login.senha")),o.xp6(2),o.Q6J("control",i.formGroup.get("senha"))("errorMessages",o.DdM(48,T)),o.xp6(2),o.Q6J("disabled",i.formGroup.disabled),o.xp6(1),o.hij("",o.lcZ(59,41,i.formGroup.disabled?"furbot.aguarde":"furbot.salvar")," "))},directives:[n.W2,d.O5,n.sr,n.fG,n.PM,n.Zi,n.Ie,n.Q$,n.Dq,n.tO,n.FN,r._Y,r.JL,r.sg,r.Fj,h.o,r.JJ,r.u,Z.W,b.Lt,M.f,n.YG],pipes:[c.X$],styles:[""]}),t})(),resolve:{entity:(()=>{class t{constructor(e){this.service=e}resolve(){return this.service.buscarUsuarioLogado()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(p.i))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}];let G=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[u.Bz.forChild(y)],u.Bz]}),t})();var L=a(4466);let E=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[d.ez,r.u5,n.Pc,G,r.UX,L.m]]}),t})()}}]);
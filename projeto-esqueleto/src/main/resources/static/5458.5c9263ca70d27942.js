"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5458],{8194:(L,h,l)=>{l.d(h,{P:()=>t});var d=l(655),m=l(6435),x=l(9928);let t=(()=>{class u{constructor(p){this.loadingController=p,this.session=new m.vpe}show(){return(0,d.mG)(this,void 0,void 0,function*(){const p=yield this.loadingController.create({message:"",mode:"ios",translucent:!0,backdropDismiss:!1});setTimeout(()=>{p.isConnected&&(p.message="Aguarde...")},5e3);const _=setTimeout(()=>{p.present().then()},350);return p.timeout=_,p})}close(p){clearTimeout(p.timeout),p.dismiss()}getSession(){return this.session}setSession(){this.session.emit()}}return u.\u0275fac=function(p){return new(p||u)(m.LFG(x.HT))},u.\u0275prov=m.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},9057:(L,h,l)=>{l.d(h,{c:()=>u});var d=l(5439),x=l(6435),t=l(9928);let u=(()=>{class c{constructor(_){this.platform=_}isMobile(){return this.platform.is("mobile")}formataData(_){return d(_).format("DD/MM/YYYY")}}return c.\u0275fac=function(_){return new(_||c)(x.LFG(t.t4))},c.\u0275prov=x.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},6138:(L,h,l)=>{l.d(h,{Q:()=>Et});var d=l(655),m=l(5439),t=l(6435),u=l(537),c=l(5671),p=l(2313),_=l(9928),M=l(8555),C=l(1062),f=l(9808),b=l(3075),s=l(1424),g=l(1555),v=l(159),E=l(1607);function A(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"ion-button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onAdd()}),t._UZ(1,"ion-icon",19),t._uU(2),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.addButtonLabel," ")}}function Z(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"ion-button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onAdd()}),t._UZ(1,"ion-icon",21),t._uU(2),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.seccondaryButtonLabel," ")}}function I(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"ion-button",22),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).openAndCloseFilter()}),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"ion-badge",23),t._uU(4),t.qZA(),t._UZ(5,"ion-icon",24),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,3,"furbot.filtros")," "),t.xp6(3),t.Oqu(e.doFilters().length),t.xp6(1),t.MGl("name","chevron-",e.showFilter?"up":"down","-outline")}}function S(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"furbot.ajuda")))}function w(i,o){if(1&i&&(t.TgZ(0,"ion-button",25),t.YNc(1,S,3,3,"span",4),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isMobile)}}function O(i,o){if(1&i&&(t.TgZ(0,"ion-card-header",9)(1,"ion-item",10),t.YNc(2,A,3,1,"ion-button",11),t.YNc(3,Z,3,1,"ion-button",12),t.TgZ(4,"ion-label",13)(5,"ion-card-title",14),t._uU(6),t.TgZ(7,"ion-badge"),t._uU(8),t.qZA()(),t.TgZ(9,"ion-card-subtitle",15),t._uU(10),t.qZA()(),t.YNc(11,I,6,5,"ion-button",16),t.YNc(12,w,2,1,"ion-button",17),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.showAddButton),t.xp6(1),t.Q6J("ngIf",e.seccondaryButton),t.xp6(3),t.hij(" ",e.title," "),t.xp6(2),t.Oqu(null==e.itens?null:e.itens.totalElementos),t.xp6(2),t.hij("",e.subtitle,"."),t.xp6(1),t.Q6J("ngIf",e.canFilter),t.xp6(1),t.Q6J("ngIf",e.canFilter)}}function F(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"ion-button",34),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).openAndCloseFilter()}),t._uU(1," Filtros "),t.TgZ(2,"ion-badge",23),t._uU(3),t.qZA(),t._UZ(4,"ion-icon",24),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Oqu(e.doFilters().length),t.xp6(1),t.MGl("name","chevron-",e.showFilter?"up":"down","-outline")}}function G(i,o){1&i&&(t.TgZ(0,"ion-button",35),t._uU(1," Ajuda "),t.qZA())}function U(i,o){if(1&i&&(t.TgZ(0,"ion-card-header",26)(1,"ion-item",27)(2,"ion-label",28)(3,"ion-card-title",29),t._uU(4),t.TgZ(5,"ion-badge"),t._uU(6),t.qZA()(),t.TgZ(7,"ion-card-subtitle",30),t._uU(8),t.qZA()()(),t.TgZ(9,"div",31),t.YNc(10,F,5,2,"ion-button",32),t.YNc(11,G,2,0,"ion-button",33),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",null==e.itens?null:e.itens.totalElementos," "),t.xp6(2),t.hij("",e.subtitle,"."),t.xp6(2),t.Q6J("ngIf",e.canFilter),t.xp6(1),t.Q6J("ngIf",e.canFilter)}}function D(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"span",44)(1,"input",45),t.NdJ("keypress",function(a){return t.CHM(e),t.oxw(3).onKey(a)})("ngModelChange",function(a){return t.CHM(e),t.oxw().$implicit.filterStr=a}),t.qZA(),t.TgZ(2,"label",46),t._uU(3),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",e.filterStr),t.xp6(2),t.Oqu(e.name)}}function J(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"Maior que "),t._UZ(2,"ion-icon",51),t.qZA())}function N(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"Menor que"),t._UZ(2,"ion-icon",51),t.qZA())}function P(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"Igual a "),t._UZ(2,"ion-icon",51),t.qZA())}function q(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",47)(1,"span",44)(2,"p-inputNumber",48),t.NdJ("keypress",function(a){return t.CHM(e),t.oxw(3).onKey(a)})("ngModelChange",function(a){return t.CHM(e),t.oxw().$implicit.filterStr=a}),t.qZA(),t.TgZ(3,"label",49),t._uU(4),t.qZA()(),t.TgZ(5,"span",50),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw().$implicit;return t.oxw(2).optionsFilter(a,r)}),t.YNc(6,J,3,0,"span",4),t.YNc(7,N,3,0,"span",4),t.YNc(8,P,3,0,"span",4),t.qZA()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngModel",e.filterStr),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngIf",!e.filterSequenceValue||e.filterSequenceValue===n.filterSequence.RIGHT),t.xp6(1),t.Q6J("ngIf",e.filterSequenceValue===n.filterSequence.LEFT),t.xp6(1),t.Q6J("ngIf",e.filterSequenceValue===n.filterSequence.EQUALS)}}function k(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"Maior que "),t._UZ(2,"ion-icon",51),t.qZA())}function Q(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"Menor que"),t._UZ(2,"ion-icon",51),t.qZA())}function B(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"Igual a "),t._UZ(2,"ion-icon",51),t.qZA())}function Y(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",47)(1,"span",44)(2,"p-inputNumber",52),t.NdJ("keypress",function(a){return t.CHM(e),t.oxw(3).onKey(a)})("ngModelChange",function(a){return t.CHM(e),t.oxw().$implicit.filterStr=a}),t.qZA(),t.TgZ(3,"label",49),t._uU(4),t.qZA()(),t.TgZ(5,"span",50),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw().$implicit;return t.oxw(2).optionsFilter(a,r)}),t.YNc(6,k,3,0,"span",4),t.YNc(7,Q,3,0,"span",4),t.YNc(8,B,3,0,"span",4),t.qZA()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngModel",e.filterStr),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngIf",!e.filterSequenceValue||e.filterSequenceValue===n.filterSequence.RIGHT),t.xp6(1),t.Q6J("ngIf",e.filterSequenceValue===n.filterSequence.LEFT),t.xp6(1),t.Q6J("ngIf",e.filterSequenceValue===n.filterSequence.EQUALS)}}function $(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"Maior que "),t._UZ(2,"ion-icon",51),t.qZA())}function H(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"Menor que"),t._UZ(2,"ion-icon",51),t.qZA())}function R(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"Igual a "),t._UZ(2,"ion-icon",51),t.qZA())}function K(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",47)(1,"span",44)(2,"p-calendar",53),t.NdJ("keypress",function(a){return t.CHM(e),t.oxw(3).onKey(a)})("ngModelChange",function(a){return t.CHM(e),t.oxw().$implicit.filterStr=a}),t.qZA(),t.TgZ(3,"label",49),t._uU(4),t.qZA()(),t.TgZ(5,"span",50),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw().$implicit;return t.oxw(2).optionsFilter(a,r)}),t.YNc(6,$,3,0,"span",4),t.YNc(7,H,3,0,"span",4),t.YNc(8,R,3,0,"span",4),t.qZA()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngModel",e.filterStr),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngIf",!e.filterSequenceValue||e.filterSequenceValue===n.filterSequence.RIGHT),t.xp6(1),t.Q6J("ngIf",e.filterSequenceValue===n.filterSequence.LEFT),t.xp6(1),t.Q6J("ngIf",e.filterSequenceValue===n.filterSequence.EQUALS)}}function z(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"span",44)(1,"p-dropdown",54),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().$implicit.filterStr=a}),t.qZA(),t.TgZ(2,"label",55),t._uU(3),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",e.filterStr)("options",e.filterSelectOptions)("showClear",!1)("autoDisplayFirst",!1),t.xp6(2),t.Oqu(e.name)}}function W(i,o){1&i&&t._UZ(0,"span",44)}function V(i,o){if(1&i&&(t.TgZ(0,"div",41),t.YNc(1,D,4,2,"span",42),t.YNc(2,q,9,5,"div",43),t.YNc(3,Y,9,5,"div",43),t.YNc(4,K,9,5,"div",43),t.YNc(5,z,4,5,"span",42),t.YNc(6,W,1,0,"span",42),t.qZA()),2&i){const e=o.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.filterType===n.getFilterType().STRING),t.xp6(1),t.Q6J("ngIf",e.filterType===n.getFilterType().PRICE),t.xp6(1),t.Q6J("ngIf",e.filterType===n.getFilterType().NUMBER),t.xp6(1),t.Q6J("ngIf",e.filterType===n.getFilterType().DATETIME),t.xp6(1),t.Q6J("ngIf",e.filterType===n.getFilterType().SELECT),t.xp6(1),t.Q6J("ngIf",e.filterType===n.getFilterType().LOOKUP)}}function j(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"ion-card")(2,"ion-card-content")(3,"div",36),t.YNc(4,V,7,6,"div",37),t.qZA(),t.TgZ(5,"div",38)(6,"ion-button",39),t.NdJ("click",function(){return t.CHM(e),t.oxw().list()}),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"ion-button",40),t.NdJ("click",function(){return t.CHM(e),t.oxw().clear()}),t._uU(10),t.ALo(11,"translate"),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.getTableFilter()),t.xp6(3),t.Oqu(t.lcZ(8,3,"furbot.filtrar")),t.xp6(3),t.Oqu(t.lcZ(11,5,"furbot.remover"))}}function X(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"th",61)(1,"ion-checkbox",62),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).allSelect=a})("ngModelChange",function(){return t.CHM(e),t.oxw(2).selectAll()}),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngModel",e.allSelect)}}function tt(i,o){1&i&&t._UZ(0,"ion-icon",68)}function et(i,o){1&i&&t._UZ(0,"ion-icon",69)}function it(i,o){1&i&&t._UZ(0,"ion-icon",70)}const y=function(){return{}};function nt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"th",63),t.NdJ("click",function(){const r=t.CHM(e).index;return t.oxw(2).changeOrder(r)}),t._uU(1),t.TgZ(2,"ion-button",64),t.YNc(3,tt,1,0,"ion-icon",65),t.YNc(4,et,1,0,"ion-icon",66),t.YNc(5,it,1,0,"ion-icon",67),t.qZA()()}if(2&i){const e=o.$implicit;t.MT6("",e.align," ",e.disableOrder?"":"pointer",""),t.Q6J("hidden",e.hiddenInTable)("ngStyle",e.style?e.style(e):t.DdM(11,y)),t.xp6(1),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("disabled",e.disableOrder),t.xp6(1),t.Q6J("ngIf",!e.order),t.xp6(1),t.Q6J("ngIf","asc"===e.order),t.xp6(1),t.Q6J("ngIf","desc"===e.order)}}function ot(i,o){if(1&i&&(t.TgZ(0,"tr")(1,"th",71),t._UZ(2,"ion-spinner",72),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("colSpan",e.getTableHeader().length+2)}}function at(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"ion-button",77),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).onAdd()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"furbot.adicionar")))}function lt(i,o){if(1&i&&(t.TgZ(0,"tr")(1,"th",71),t._UZ(2,"ion-icon",73),t.TgZ(3,"h2",74),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"p",75),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.YNc(9,at,3,3,"ion-button",76),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("colSpan",e.getTableHeader().length+2),t.xp6(3),t.Oqu(t.lcZ(5,4,"furbot.nenhumRegistro")),t.xp6(3),t.Oqu(t.lcZ(8,6,"furbot.nenhumRegistroSugestao")),t.xp6(2),t.Q6J("ngIf",e.canAdd)}}function rt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"td",82)(1,"ion-checkbox",83),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().$implicit.isSelect=a})("ngModelChange",function(){return t.CHM(e),t.oxw(3).onSelectItem()}),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",e.isSelect)}}function st(i,o){if(1&i&&t._UZ(0,"div",87),2&i){const e=t.oxw().$implicit,n=t.oxw().$implicit;t.Q6J("innerHTML",n[e.key],t.oJD)}}function _t(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw().$implicit;t.xp6(1),t.Oqu(n[e.key])}}function ct(i,o){1&i&&(t.TgZ(0,"span",88),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"furbot.naoInformado")))}function pt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"td",84),t.NdJ("click",function(){const r=t.CHM(e).$implicit,T=t.oxw().$implicit;return t.oxw(2).selectItem(T,r)}),t.YNc(1,st,1,1,"div",85),t.YNc(2,_t,2,1,"span",4),t.YNc(3,ct,3,3,"span",86),t.qZA()}if(2&i){const e=o.$implicit,n=t.oxw().$implicit;t.Gre("align-middle ",e.align," pointer"),t.Q6J("ngStyle",e.style?e.style(n):t.DdM(7,y)),t.xp6(1),t.Q6J("ngIf",e.process&&n[e.key]),t.xp6(1),t.Q6J("ngIf",!e.process&&n[e.key]),t.xp6(1),t.Q6J("ngIf",!n[e.key])}}function dt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"ion-button",89),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).onEdit(a.id)}),t._uU(1),t._UZ(2,"ion-icon",90),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(1),t.hij("",e.isLookup?"Selecionar":e.editLabel," ")}}function ut(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"ion-button",89),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).onActions(a)}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.actionsLabel," ")}}function ft(i,o){if(1&i&&(t.TgZ(0,"tbody")(1,"tr"),t.YNc(2,rt,2,1,"td",78),t.YNc(3,pt,4,8,"td",79),t.TgZ(4,"td",80),t.YNc(5,dt,3,1,"ion-button",81),t.YNc(6,ut,2,1,"ion-button",81),t.qZA()()()),2&i){const e=o.$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",n.canSelect&&!n.isLookup),t.xp6(1),t.Q6J("ngForOf",n.tableBody),t.xp6(2),t.Q6J("ngIf",!n.canActions&&n.showActions&&n.canEdit),t.xp6(1),t.Q6J("ngIf",n.canActions&&n.showActions&&(!n.hideOptionsByField||n.hideOptionsByField&&n.hasHideAction(e)))}}const mt=function(i,o){return{"mt-2":i,"table-hover":o}};function gt(i,o){if(1&i&&(t.TgZ(0,"table",56)(1,"thead")(2,"tr"),t.YNc(3,X,2,1,"th",57),t.YNc(4,nt,6,12,"th",58),t.TgZ(5,"th",59),t._uU(6,"#"),t.qZA()()(),t.TgZ(7,"tbody"),t.YNc(8,ot,3,1,"tr",4),t.qZA(),t.TgZ(9,"tbody"),t.YNc(10,lt,10,8,"tr",4),t.qZA(),t.YNc(11,ft,7,4,"tbody",60),t.qZA()),2&i){const e=t.oxw();t.Q6J("ngClass",t.WLB(6,mt,e.showFilter,!e.isLoading&&(null==e.itens||null==e.itens.conteudo?null:e.itens.conteudo.length))),t.xp6(3),t.Q6J("ngIf",e.canSelect&&!e.isLookup),t.xp6(1),t.Q6J("ngForOf",e.getTableHeader()),t.xp6(4),t.Q6J("ngIf",e.isLoading),t.xp6(2),t.Q6J("ngIf",!(e.isLoading||null!=e.itens&&null!=e.itens.conteudo&&e.itens.conteudo.length)),t.xp6(1),t.Q6J("ngForOf",null==e.itens?null:e.itens.conteudo)}}const ht=function(){return[5,10,25,100]};function xt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"mat-paginator",91,92),t.NdJ("page",function(a){return t.CHM(e),t.oxw().onPage(a)}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("disabled",e.isLoading)("length",null==e.itens?null:e.itens.totalElementos)("pageSize",10)("pageSizeOptions",t.DdM(4,ht))}}function Tt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"ion-fab",93)(1,"ion-fab-button",94),t.NdJ("click",function(){return t.CHM(e),t.oxw().onAdd()}),t._UZ(2,"ion-icon",95),t.qZA()()}if(2&i){const e=t.oxw();t.Tol(e.isMobile?"mr-1 mb-1":"mr-3 mb-3")}}function bt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"ion-infinite-scroll",96),t.NdJ("ionInfinite",function(a){return t.CHM(e),t.oxw().loadData(a)}),t._UZ(1,"ion-infinite-scroll-content",97),t.qZA()}}function vt(i,o){1&i&&t._UZ(0,"br")}function Ct(i,o){1&i&&t._UZ(0,"br")}function Lt(i,o){1&i&&t._UZ(0,"br")}function Mt(i,o){1&i&&t._UZ(0,"br")}let Et=(()=>{class i{constructor(e,n,a,r,T){this.sanitizer=e,this.popoverController=n,this.platform=a,this.router=r,this.translateService=T,this.defaultClass="container-fluid",this.actionsLabel="A\xe7\xf5es",this.editLabel=this.translateService.instant("furbot.editar"),this.nativeFilter=null,this.showAddButton=!1,this.addButtonLabel="",this.seccondaryButton=!1,this.seccondaryButtonLabel="",this.canAdd=!0,this.canEdit=!0,this.canFilter=!0,this.canHeader=!0,this.canSelect=!0,this.canActions=!1,this.showActions=!0,this.isMobile=!1,this.isLookup=!1,this.hiddenPagination=!1,this.hideOptionsByField=null,this.disableInfinitScroll=!1,this.add=new t.vpe,this.edit=new t.vpe,this.selected=new t.vpe,this.action=new t.vpe,this.conditionEvent=new t.vpe,this.totalItems=new t.vpe,this.lookupSuggestion=[],this.allSelect=!1,this.isLoading=!0,this.showFilter=!1,this.filterSequence=c.v9,this.page=0,this.size=10}set update(e){e&&(this.page=0,this.size=10,this.itens=null,this.isLoading=!0,this.list())}ngOnInit(){this.tableBody=this.getTableBody()}list(e=null){e||(this.isLoading=!0),e||(this.itens=null,this.showFilter=!1,this.selected.emit([])),this.service.list({filtro:this.nativeFilter||this.getFilter(),page:this.page,size:this.size,ordenar:this.getOrder()}).pipe((0,u.x)(()=>{e?e.target.complete():this.isLoading=!1})).subscribe(n=>{n.conteudo.forEach(a=>{this.tableBody.forEach(r=>{r.process&&(a[r.key]=this.htmlSerialize(r.process(a)))})}),e?this.itens.conteudo=this.itens.conteudo.concat(n.conteudo):this.itens=n,this.totalItems.emit(n.totalElementos)})}loadData(e){this.disableInfinitScroll?e.target.complete():(this.page++,this.list(e))}onPage(e){this.itens=null,this.page=e.pageIndex,this.size=e.pageSize,this.list()}selectAll(){this.itens.conteudo.forEach(e=>{e.isSelect=this.allSelect}),this.onSelectItem()}onSelectItem(){setTimeout(()=>{this.selected.emit(this.itens.conteudo.filter(e=>!!e.isSelect))})}selectItem(e,n){n.goTo?this.router.navigate(n.goTo(e)):(e.isSelect=!e.isSelect,this.onSelectItem())}clear(){this.service.header.forEach(e=>{e.filterObject=null,e.filterStr=null}),this.list()}getFilter(){let e=this.doFilters().join(" AND ");return this.fixedFilter&&(e+=`${e?" AND ":""}${this.fixedFilter}`),e}doFilters(){return this.service.header.filter(e=>!!e.filterStr).map(e=>e.filterType===c.vA.PRICE||e.filterType===c.vA.NUMBER?e.filterSequenceValue?`${e.key} ${e.filterSequenceValue} ${this.formatNumber(e.filterStr)}`:`${e.key} ${c.v9.RIGHT} ${this.formatNumber(e.filterStr)}`:e.filterType===c.vA.DATETIME?e.filterSequenceValue?`${e.key} ${e.filterSequenceValue} ${m(e.filterStr).toDate().toISOString()}`:`${e.key} ${c.v9.EQUALS} ${m(e.filterStr).toDate().toISOString()}`:e.filterType===c.vA.SELECT?`${e.key} EQ ${e.filterStr.key}`:e.filterType===c.vA.LOOKUP?`${e.filterLookupOptions.searchField} EQ ${e.filterStr.id}`:`${e.key} LIKE ${e.filterStr}`)}formatNumber(e){return e||null}optionsFilter(e,n){return(0,d.mG)(this,void 0,void 0,function*(){})}onKey(e){"Enter"===e.key&&this.list()}changeOrder(e){if(!this.service.header[e].disableOrder){const n=this.service.header[e].order;this.service.header.forEach(a=>a.order=null),this.service.header[e].order=n?"asc"===n?"desc":null:"asc",this.page=0,this.list()}}getOrder(){const e=this.service.header.filter(n=>n.order);return e&&e.length?`${e[0].key} ${e[0].order}`:""}onLookupSearch(e,n){n.service.list({filterQuery:`${n.field||"name"} LIKE ${e.query}`}).subscribe(a=>{this.lookupSuggestion=a.contents})}onAdd(){this.add.emit()}onEdit(e){!this.canActions&&this.showActions&&this.canEdit&&this.edit.emit(e)}onActions(e){this.action.emit(e)}openAndCloseFilter(){this.showFilter=!this.showFilter}getTableFilter(){return this.service.header.filter(e=>e.filter)}getTableHeader(){return this.service.header}getTableBody(){return this.service.header.filter(e=>!e.hiddenInTable)}htmlSerialize(e){return this.sanitizer.bypassSecurityTrustHtml(e)}getFilterType(){return c.vA}hasHideAction(e){return console.log(!e[this.hideOptionsByField]),!e[this.hideOptionsByField]}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.H7),t.Y36(_.Dh),t.Y36(_.t4),t.Y36(M.F0),t.Y36(C.sK))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-lista-generica"]],inputs:{service:"service",defaultClass:"defaultClass",title:"title",subtitle:"subtitle",fixedFilter:"fixedFilter",actionsLabel:"actionsLabel",editLabel:"editLabel",nativeFilter:"nativeFilter",showAddButton:"showAddButton",addButtonLabel:"addButtonLabel",seccondaryButton:"seccondaryButton",seccondaryButtonLabel:"seccondaryButtonLabel",canAdd:"canAdd",canEdit:"canEdit",canFilter:"canFilter",canHeader:"canHeader",canSelect:"canSelect",canActions:"canActions",showActions:"showActions",isMobile:"isMobile",isLookup:"isLookup",hiddenPagination:"hiddenPagination",hideOptionsByField:"hideOptionsByField",disableInfinitScroll:"disableInfinitScroll",update:"update"},outputs:{add:"add",edit:"edit",selected:"selected",action:"action",conditionEvent:"conditionEvent",totalItems:"totalItems"},decls:14,vars:13,consts:[["mode","ios",1,"pt-0","mt-3",2,"border","none","box-shadow","none"],["class","p-0 pt-3 pb-3",4,"ngIf"],["class","p-0 mb-2",4,"ngIf"],[1,"p-0"],[4,"ngIf"],["class","table",3,"ngClass",4,"ngIf"],["aria-label","Select page",3,"disabled","length","pageSize","pageSizeOptions","page",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed","style","position: fixed;",3,"class",4,"ngIf"],["threshold","100px",3,"ionInfinite",4,"ngIf"],[1,"p-0","pt-3","pb-3"],["lines","none",1,"pl-0"],["color","primary","slot","start","size","small",3,"click",4,"ngIf"],["slot","start","color","medium","size","small",3,"click",4,"ngIf"],["slot","start"],[1,"title-table",2,"font-size","30px"],[2,"font-size","12px","text-transform","none"],["slot","end","fill","clear",3,"click",4,"ngIf"],["slot","end","color","medium","fill","clear",4,"ngIf"],["color","primary","slot","start","size","small",3,"click"],["name","search-outline",1,"mr-2"],["slot","start","color","medium","size","small",3,"click"],["name","add-outline",1,"mr-2"],["slot","end","fill","clear",3,"click"],["color","warning",1,"ml-2","mr-2"],[3,"name"],["slot","end","color","medium","fill","clear"],[1,"p-0","mb-2"],["lines","none",1,"p-0","no-paddin-start"],[1,"pl-0"],[1,"title-table",2,"font-size","24px"],[2,"font-size","12px"],[1,"p-0","text-left","ml-1","no-paddin-start"],["class","pl-0 no-paddin-start","fill","clear","size","small",3,"click",4,"ngIf"],["color","medium","fill","clear","size","small",4,"ngIf"],["fill","clear","size","small",1,"pl-0","no-paddin-start",3,"click"],["color","medium","fill","clear","size","small"],[1,"row"],["class","col-lg-4 mt-2",4,"ngFor","ngForOf"],[1,"text-left","mt-3"],["size","small",3,"click"],["fill","clear","size","small","color","medium",3,"click"],[1,"col-lg-4","mt-2"],["class","p-float-label",4,"ngIf"],["class","p-inputgroup",4,"ngIf"],[1,"p-float-label"],["id","float-input","type","text","pInputText","","autocomplete","off",1,"w-100",3,"ngModel","keypress","ngModelChange"],["for","float-input"],[1,"p-inputgroup"],["mode","currency","id","priceGroup","inputId","priceGroup","inputStyleClass","w-100","currency","BRL",1,"w-100",3,"ngModel","keypress","ngModelChange"],["for","priceGroup"],[1,"p-inputgroup-addon",2,"cursor","pointer","width","150px","padding","0px",3,"click"],["name","chevron-down",2,"margin-top","3px","margin-left","5px","float","right"],["mode","decimal","id","priceGroup","inputId","priceGroup","inputStyleClass","w-100",1,"w-100",3,"ngModel","keypress","ngModelChange"],["appendTo","body","dateFormat","dd/mm/yy","id","priceGroup","inputId","priceGroup","inputStyleClass","w-100",1,"w-100",3,"ngModel","keypress","ngModelChange"],["id","float-dropdown","appendTo","body","optionLabel","name",1,"w-100",3,"ngModel","options","showClear","autoDisplayFirst","ngModelChange"],[1,"dropdown"],[1,"table",3,"ngClass"],["scope","col","style","width: 60px;",4,"ngIf"],["scope","col",3,"hidden","class","ngStyle","click",4,"ngFor","ngForOf"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["scope","col",2,"width","60px"],["mode","md",3,"ngModel","ngModelChange"],["scope","col",3,"hidden","ngStyle","click"],["fill","clear","size","small","color","medium",1,"p-0","mt-0",2,"margin-top","-8px!important",3,"disabled"],["name","filter",4,"ngIf"],["name","arrow-up",4,"ngIf"],["name","arrow-down",4,"ngIf"],["name","filter"],["name","arrow-up"],["name","arrow-down"],[1,"text-center",3,"colSpan"],["color","primary"],["name","file-tray-full-outline",1,"text-muted",2,"font-size","80px"],[1,"mb-0","pb-0"],[1,"text-muted"],["fill","clear",3,"click",4,"ngIf"],["fill","clear",3,"click"],["style","width: 60px;",4,"ngIf"],[3,"ngStyle","class","click",4,"ngFor","ngForOf"],[1,"align-middle",2,"width","100px"],["fill","clear","size","small",3,"click",4,"ngIf"],[2,"width","60px"],["mode","md",1,"mt-2",3,"ngModel","ngModelChange"],[3,"ngStyle","click"],[3,"innerHTML",4,"ngIf"],["class","not-informed",4,"ngIf"],[3,"innerHTML"],[1,"not-informed"],["fill","clear","size","small",3,"click"],["name","arrow-forward-outline",1,"ml-2"],["aria-label","Select page",3,"disabled","length","pageSize","pageSizeOptions","page"],["paginator",""],["vertical","bottom","horizontal","end","slot","fixed",2,"position","fixed"],[3,"click"],["name","add"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","crescent"]],template:function(e,n){1&e&&(t.TgZ(0,"div")(1,"ion-card",0),t.YNc(2,O,13,7,"ion-card-header",1),t.YNc(3,U,12,5,"ion-card-header",2),t.TgZ(4,"ion-card-content",3),t.YNc(5,j,12,7,"div",4),t.YNc(6,gt,12,9,"table",5),t.YNc(7,xt,2,5,"mat-paginator",6),t.qZA()()(),t.YNc(8,Tt,3,2,"ion-fab",7),t.YNc(9,bt,2,0,"ion-infinite-scroll",8),t.YNc(10,vt,1,0,"br",4),t.YNc(11,Ct,1,0,"br",4),t.YNc(12,Lt,1,0,"br",4),t.YNc(13,Mt,1,0,"br",4)),2&e&&(t.Tol(n.defaultClass),t.xp6(2),t.Q6J("ngIf",n.canHeader&&!n.isMobile),t.xp6(1),t.Q6J("ngIf",n.canHeader&&n.isMobile),t.xp6(2),t.Q6J("ngIf",n.showFilter),t.xp6(1),t.Q6J("ngIf",!n.isMobile),t.xp6(1),t.Q6J("ngIf",!n.isMobile&&(!n.hiddenPagination||n.hiddenPagination&&(null==n.itens?null:n.itens.totalElementos)>5)),t.xp6(1),t.Q6J("ngIf",n.canAdd&&!n.isLookup),t.xp6(1),t.Q6J("ngIf",n.isMobile),t.xp6(1),t.Q6J("ngIf",!n.hiddenPagination),t.xp6(1),t.Q6J("ngIf",n.canAdd&&!n.isMobile),t.xp6(1),t.Q6J("ngIf",n.canAdd&&!n.isMobile),t.xp6(1),t.Q6J("ngIf",n.canAdd&&!n.isMobile))},directives:[_.PM,f.O5,_.Zi,_.Ie,_.YG,_.gu,_.Q$,_.Dq,_.yp,_.tO,_.FN,f.sg,b.Fj,s.o,b.JJ,b.On,g.f,v.Lt,f.mk,_.nz,_.w,f.PC,_.PQ,E.NW,_.IJ,_.W4,_.ju,_.MB],pipes:[C.X$],styles:[""]}),i})()},7769:(L,h,l)=>{l.d(h,{_:()=>C});var d=l(655),m=l(567),x=l(537),t=l(6435),u=l(9928),c=l(8555),p=l(5671),_=l(9057),M=l(8194);let C=(()=>{class f{constructor(s,g,v,E,A,Z,I){this.alertController=s,this.router=g,this.service=v,this.formRouter=E,this.utils=A,this.activatedRoute=Z,this.appLoader=I,this.scrollTop=0,this.updateTable=null,this.filterStr="",this.fixedFilter="",this.isMobile=!1,this.isDesktop=!0,this.selectPage=!1,this.searchFocus=!1}set openModal(s){s&&(this.permission=s,this.selectPage=!0,this.ionViewWillEnter(),this.ionViewDidEnter())}ionViewWillEnter(){this.isMobile=this.utils.isMobile(),this.isDesktop=!this.utils.isMobile(),this.permission=this.activatedRoute.snapshot.data.permissions||this.permission,this.updateTable=(new Date).getTime()}ionViewDidEnter(){this.ionContent&&this.ionContent.getScrollElement().then(s=>{s.onscroll=()=>{this.scrollTop=s.scrollTop}})}selectedProcedures(s){this.selecteds=s}onGlobalFilter(s){return(0,d.mG)(this,void 0,void 0,function*(){const g=this.filterStr;setTimeout(()=>{g===this.filterStr&&(this.fixedFilter=`${s} LIKE ${g}`,setTimeout(()=>{this.updateTable=(new Date).getTime()}))},700)})}audit(){return(0,d.mG)(this,void 0,void 0,function*(){const[s]=this.selecteds;yield(yield this.alertController.create({header:"Auditoria",message:`Criado: ${this.utils.formataData(s.criadoEm)} <br> Por: ${s.criadoPor} <br><br> Editado: ${this.utils.formataData(s.atualizadoEm)} <br> Por: ${s.atualizadoPor}`,buttons:[{text:"OK",role:"cancel"}]})).present()})}delete(){return(0,d.mG)(this,void 0,void 0,function*(){return new Promise(s=>(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Remover item(s)",backdropDismiss:!1,message:"Deseja realmente remover este(s) item(s)?<br><br> Ap\xf3s a confirma\xe7\xe3o n\xe3o ser\xe1 poss\xedvel restaur\xe1-los!",buttons:[{text:"N\xe3o",role:"cancel",handler:()=>s({})},{text:"Sim",cssClass:"delete-color",handler:()=>(0,d.mG)(this,void 0,void 0,function*(){yield this.doDelete(),s({})})}]})).present()}))})}doDelete(){return(0,d.mG)(this,void 0,void 0,function*(){const s=yield this.appLoader.show(),g=this.selecteds.map(v=>this.service.delete(v.id));yield(0,m.D)(g).pipe((0,x.x)(()=>{this.appLoader.close(s),this.updateTable=(new Date).getTime()})).toPromise()})}duplicate(){const[s]=this.selecteds;this.router.navigate([this.formRouter,s.id],{queryParams:{duplicate:!0}})}searchbarFocus(s){this.searchFocus=s&&this.isMobile}onAdd(){this.router.navigate([this.formRouter,"new"])}onEdit(s){this.router.navigate([this.formRouter,s])}}return f.\u0275fac=function(s){return new(s||f)(t.LFG(u.Br),t.LFG(c.F0),t.LFG(p.c4),t.LFG(String),t.LFG(_.c),t.LFG(c.gz),t.LFG(M.P))},f.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac}),f})()}}]);
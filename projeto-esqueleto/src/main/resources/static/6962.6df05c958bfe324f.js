"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6962],{6962:(C,p,n)=>{n.r(p),n.d(p,{FormTurmasPageModule:()=>x});var h=n(9808),r=n(3075),s=n(9928),Z=n(4466),u=n(8555),f=n(655),t=n(6435),v=n(363),T=n(6939),A=n(7766),b=n(1424),L=n(442),q=n(2145),y=n(159),M=n(1062);const g=function(e,i){return{required:e,maxlength:i}},d=function(){return{width:"100%"}},c=function(e){return{required:e}},P=[{path:":id",component:(()=>{class e{constructor(o,a,l,m,F,I){this.formBuilder=o,this.navController=a,this.turmaService=l,this.appErroService=m,this.escolaService=F,this.activatedRoute=I,this.escolas={},this.turnos=[{name:"Matutino",value:"MATUTINO"},{name:"Vespertino",value:"VESPERTINO"},{name:"Noturno",value:"NOTURNO"}]}ngOnInit(){this.form=this.formBuilder.group({id:[],nome:[null,r.kI.compose([r.kI.required,r.kI.maxLength(155)])],anoLetivo:[null,r.kI.required],ano:[null,r.kI.compose([r.kI.required,r.kI.maxLength(50)])],turno:[null,r.kI.required],escola:[null,r.kI.required]})}ionViewWillEnter(){this.activatedRoute.snapshot.data.entity&&(this.form.patchValue(this.activatedRoute.snapshot.data.entity),this.form.get("turno").patchValue(this.turnos[this.turnos.findIndex(o=>o.value===this.activatedRoute.snapshot.data.entity.turno)]))}salvar(){return(0,f.mG)(this,void 0,void 0,function*(){try{if(this.form.valid){const o=this.form.getRawValue();"new"===o.id&&delete o.id,o.escolaId=o.escola.id,o.turno&&(o.turno=o.turno.value),this.form.disable(),o.id?yield this.turmaService.update(o.id,o).toPromise():yield this.turmaService.insert(o).toPromise(),this.fechar()}else this.form.markAllAsTouched()}catch(o){yield this.appErroService.exibirErros(null==o?void 0:o.error.message)}this.form.enable()})}getEscolasList(o){return(0,f.mG)(this,void 0,void 0,function*(){const a=yield this.escolaService.list({filtro:`nome LIKE ${o.query}`}).toPromise();this.escolasList=a.conteudo})}fechar(){this.navController.back()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(s.SH),t.Y36(v.R),t.Y36(T.R),t.Y36(A.v),t.Y36(u.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-form-turmas"]],decls:73,vars:86,consts:[["slot","start"],["defaultHref","/professor/turmas",3,"text"],[1,"container-fluid"],["mode","md",1,"no-border"],[1,"p-0","pt-3"],["lines","none"],[2,"font-size","20px"],[2,"font-size","12px"],[1,"row","mt-2",3,"formGroup"],[1,"col-12","mt-3"],[1,"p-float-label"],["formControlName","nome","type","text","pInputText","","autocomplete","off",1,"w-100"],["for","float-input",1,"required"],[3,"control","errorMessages"],["formControlName","escola","field","nome",3,"inputStyle","suggestions","dropdown","forceSelection","completeMethod"],[1,"required"],["id","float-input","formControlName","ano","type","text","pInputText","","autocomplete","off",1,"w-100"],["formControlName","anoLetivo","type","number","pInputText","","autocomplete","off",1,"w-100"],["appendTo","body","formControlName","turno","optionLabel","name",3,"options","placeholder"],[1,"w-100","p-2","pl-4","btn-container"],[1,"text-left"],["fill","clear","color","dark",3,"click"],[3,"disabled","click"]],template:function(o,a){1&o&&(t.TgZ(0,"ion-content")(1,"ion-toolbar")(2,"ion-buttons",0),t._UZ(3,"ion-back-button",1),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",2)(6,"ion-card",3)(7,"ion-card-header",4)(8,"ion-item",5)(9,"ion-label")(10,"ion-card-title",6),t._uU(11),t.ALo(12,"translate"),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"ion-card-subtitle",7),t._uU(15),t.ALo(16,"translate"),t.ALo(17,"translate"),t.qZA()()()(),t.TgZ(18,"ion-card-content")(19,"form",8)(20,"div",9)(21,"span",10),t._UZ(22,"input",11),t.TgZ(23,"label",12),t._uU(24),t.ALo(25,"translate"),t.qZA()(),t._UZ(26,"app-validador",13),t.ALo(27,"translate"),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"div",9)(30,"span",10)(31,"p-autoComplete",14),t.NdJ("completeMethod",function(m){return a.getEscolasList(m)}),t.qZA(),t.TgZ(32,"label",15),t._uU(33),t.ALo(34,"translate"),t.qZA()(),t._UZ(35,"app-validador",13),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"div",9)(38,"span",10),t._UZ(39,"input",16),t.TgZ(40,"label",12),t._uU(41),t.ALo(42,"translate"),t.qZA()(),t._UZ(43,"app-validador",13),t.ALo(44,"translate"),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"div",9)(47,"span",10),t._UZ(48,"input",17),t.TgZ(49,"label",15),t._uU(50),t.ALo(51,"translate"),t.qZA()(),t._UZ(52,"app-validador",13),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"div",9),t._UZ(55,"p-dropdown",18),t.ALo(56,"translate"),t._UZ(57,"app-validador",13),t.ALo(58,"translate"),t.qZA()()()(),t.TgZ(59,"div",19)(60,"div",20)(61,"ion-button",21),t.NdJ("click",function(){return a.fechar()}),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"ion-button",22),t.NdJ("click",function(){return a.salvar()}),t._uU(65),t.ALo(66,"translate"),t.ALo(67,"translate"),t.qZA()()()(),t._UZ(68,"br")(69,"br")(70,"br")(71,"br")(72,"br"),t.qZA()),2&o&&(t.xp6(3),t.s9C("text",t.lcZ(4,31,"furbot.voltar")),t.xp6(8),t.Oqu(a.form.get("id").value?t.lcZ(12,33,"furbot.atualizar"):t.lcZ(13,35,"furbot.cadastrar")),t.xp6(4),t.hij("",a.form.get("id").value?t.lcZ(16,37,"furbot.dadosParaAtualizarTurma"):t.lcZ(17,39,"furbot.dadosParaCadastrarTurma")," "),t.xp6(4),t.Q6J("formGroup",a.form),t.xp6(5),t.Oqu(t.lcZ(25,41,"furbot.nomeTurma")),t.xp6(2),t.Q6J("control",a.form.get("nome"))("errorMessages",t.WLB(71,g,t.lcZ(27,43,"furbot.required"),t.lcZ(28,45,"furbot.maxLengthNome"))),t.xp6(5),t.Akn(t.DdM(74,d)),t.Q6J("inputStyle",t.DdM(75,d))("suggestions",a.escolasList)("dropdown",!0)("forceSelection",!0),t.xp6(2),t.Oqu(t.lcZ(34,47,"furbot.escola")),t.xp6(2),t.Q6J("control",a.form.get("escola"))("errorMessages",t.VKq(76,c,t.lcZ(36,49,"furbot.required"))),t.xp6(6),t.Oqu(t.lcZ(42,51,"furbot.ano")),t.xp6(2),t.Q6J("control",a.form.get("ano"))("errorMessages",t.WLB(78,g,t.lcZ(44,53,"furbot.required"),t.lcZ(45,55,"furbot.maxLengthAno"))),t.xp6(7),t.Oqu(t.lcZ(51,57,"furbot.anoLetivo")),t.xp6(2),t.Q6J("control",a.form.get("anoLetivo"))("errorMessages",t.VKq(81,c,t.lcZ(53,59,"furbot.required"))),t.xp6(3),t.Akn(t.DdM(83,d)),t.s9C("placeholder",t.lcZ(56,61,"furbot.selecioneTurno")),t.Q6J("options",a.turnos),t.xp6(2),t.Q6J("control",a.form.get("turno"))("errorMessages",t.VKq(84,c,t.lcZ(58,63,"furbot.required"))),t.xp6(5),t.Oqu(t.lcZ(63,65,"furbot.cancelar")),t.xp6(2),t.Q6J("disabled",a.form.disabled),t.xp6(1),t.Oqu(a.form.get("id").value?t.lcZ(67,69,"furbot.atualizar"):t.lcZ(66,67,"furbot.cadastrar")))},directives:[s.W2,s.sr,s.Sm,s.oU,s.cs,s.PM,s.Zi,s.Ie,s.Q$,s.Dq,s.tO,s.FN,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,b.o,L.W,q.Qc,r.wV,y.Lt,s.YG],pipes:[M.X$],styles:[""]}),e})(),resolve:{entity:(()=>{class e{constructor(o){this.service=o}resolve(o){if("new"!==o.paramMap.get("id"))return this.service.get(o.paramMap.get("id"))}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(v.R))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}];let U=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.Bz.forChild(P)],u.Bz]}),e})(),x=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[h.ez,r.u5,s.Pc,U,Z.m,r.UX]]}),e})()}}]);